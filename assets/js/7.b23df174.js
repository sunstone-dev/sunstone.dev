(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{197:function(t,a,s){"use strict";s.r(a);var e=s(3),n=Object(e.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"introduction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#introduction","aria-hidden":"true"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),s("p",[t._v("Sunstone is a simple, open source templating engine built with Go for Kubernetes and beyond.")]),t._v(" "),s("h2",{attrs:{id:"templating"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#templating","aria-hidden":"true"}},[t._v("#")]),t._v(" Templating")]),t._v(" "),s("p",[t._v("Sunstone, just like "),s("a",{attrs:{href:"https://helm.sh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("helm"),s("OutboundLink")],1),t._v(", mostly uses "),s("a",{attrs:{href:"https://masterminds.github.io/sprig/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://masterminds.github.io/sprig/"),s("OutboundLink")],1),t._v(" templates with several notable additions.")]),t._v(" "),s("p",[t._v("In addition to standard helm/sprig templating options, Sunstone enables retrieving data from remote registries (such as DockerHub, Quay.io, etcd.). To use this functionality, see example template "),s("a",{attrs:{href:"https://github.com/sunstone-dev/example/blob/master/deployment.yaml",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("In this case we are setting default tag to be latest semver tag from "),s("code",[t._v("keelhq/push-workflow-example")]),t._v(" registry:")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" apps/v1\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Deployment\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" pushwf  \n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("labels")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pushwf"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("replicas")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("revisionHistoryLimit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("selector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("matchLabels")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" pushwf\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" pushwf\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("labels")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" pushwf\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("     \n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("containers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("                    \n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" keelhq/push"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("workflow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("example"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" .version "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(' latestRegistrySemver "keelhq/push'),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("workflow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('example" '),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("imagePullPolicy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Always\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" pushwf\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("containerPort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" .port "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" default 8500 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("livenessProbe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("httpGet")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /\n              "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("port")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" .port "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" default 8500 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("initialDelaySeconds")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("timeoutSeconds")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5    ")]),t._v("\n")])])]),s("h2",{attrs:{id:"using-templates"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#using-templates","aria-hidden":"true"}},[t._v("#")]),t._v(" Using templates")]),t._v(" "),s("p",[t._v("To use a template, it has to be publicly accessible when using with a public Sunstone instance (sunstone.dev). Remove the "),s("code",[t._v("https://")]),t._v(" part from your template and supply it as a link to the service:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" https://sunstone.dev/raw.githubusercontent.com/sunstone-dev/example/master/deployment.yaml\n")])])]),s("p",[t._v("Fortunately, Kubernetes can consume HTTP URLs as well, this allows you to use templates directly:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("kubectl apply -f https://sunstone.dev/raw.githubusercontent.com/sunstone-dev/example/master/deployment.yaml\n")])])]),s("hr"),t._v(" "),s("h2",{attrs:{id:"aliases"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#aliases","aria-hidden":"true"}},[t._v("#")]),t._v(" Aliases")]),t._v(" "),s("p",[t._v("Aliases work like a URL shorteners, creating an easy to remember links for any resource. All these aliases are defined in the "),s("a",{attrs:{href:"https://github.com/sunstone-dev/hub/blob/master/repositories.yaml",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/sunstone-dev/hub/blob/master/repositories.yaml"),s("OutboundLink")],1),t._v(" file (repository address: "),s("a",{attrs:{href:"https://github.com/sunstone-dev/hub",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/sunstone-dev/hub"),s("OutboundLink")],1),t._v(")")]),t._v(" "),s("h3",{attrs:{id:"understanding-aliases-file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#understanding-aliases-file","aria-hidden":"true"}},[t._v("#")]),t._v(" Understanding aliases file")]),t._v(" "),s("p",[t._v("Looking at the alias file, we can see that it contains both the "),s("code",[t._v("alias")]),t._v(" and "),s("code",[t._v("url")]),t._v(":")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("repositories")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("alias")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" keel\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" https"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//gist.githubusercontent.com/rusenask/9ed5c505e31a9b9c89b8591b5ca660e3/raw/3ce05d722ee02c5fbdd3d52c3ac5b04a5bba1de2/sunstone_test.yaml\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("maintainers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Karolis Rusenas\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("email")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" karolis@webhookrelay.com\n")])])]),s("p",[t._v("This means, that instead of calling "),s("code",[t._v("https://sunstone.dev/gist.githubusercontent.com/rusenask/9ed5c505e31a9b9c89b8591b5ca660e3/raw/3ce05d722ee02c5fbdd3d52c3ac5b04a5bba1de2/sunstone_test.yaml")]),t._v(", user can just call "),s("code",[t._v("https://sunstone.dev/keel")]),t._v(" to get the same resource.")]),t._v(" "),s("h3",{attrs:{id:"adding-your-own-alias"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#adding-your-own-alias","aria-hidden":"true"}},[t._v("#")]),t._v(" Adding your own alias")]),t._v(" "),s("p",[t._v("To add your own alias to this list:")]),t._v(" "),s("ol",[s("li",[t._v("Fork "),s("a",{attrs:{href:"https://github.com/sunstone-dev/hub",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/sunstone-dev/hub"),s("OutboundLink")],1),t._v(" repository")]),t._v(" "),s("li",[t._v("Add your own alias entry that includes unique "),s("code",[t._v("alias")]),t._v(" name, "),s("code",[t._v("url")]),t._v(" and one or more maintainers.")]),t._v(" "),s("li",[t._v("Submit a pull request")])]),t._v(" "),s("h2",{attrs:{id:"hosting-sunstone-on-your-own-infrastructure"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hosting-sunstone-on-your-own-infrastructure","aria-hidden":"true"}},[t._v("#")]),t._v(" Hosting Sunstone on your own infrastructure")]),t._v(" "),s("p",[s("strong",[t._v("Coming soon...")])])])},[],!1,null,null,null);a.default=n.exports}}]);