(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{194:function(t,e,a){"use strict";a.r(e);var s=a(3),n=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"how-does-it-work"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-does-it-work","aria-hidden":"true"}},[t._v("#")]),t._v(" How does it work?")]),t._v(" "),a("p",[t._v("You upload a file to a publicly accessible server such as GitHub: "),a("a",{attrs:{href:"https://raw.githubusercontent.com/sunstone-dev/example/master/deployment.yaml",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://raw.githubusercontent.com/sunstone-dev/example/master/deployment.yaml"),a("OutboundLink")],1),t._v(". Feel free to use object storage or just a simple static website.")]),t._v(" "),a("p",[t._v("Then, point sunstone.dev at it by appending the template URL (just remove the https:// or http:// parts) to a path: "),a("a",{attrs:{href:"https://sunstone.dev/raw.githubusercontent.com/sunstone-dev/example/master/deployment.yaml",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://sunstone.dev/raw.githubusercontent.com/sunstone-dev/example/master/deployment.yaml"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[t._v("Any template variables can be populated by amending query arguments such as "),a("code",[t._v("?port=5000&version=1.0.0")]),t._v(" to the final URL. Structure of the URL is:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("https://sunstone.dev/<URL to link>?<first arg>=<value>&<second arg>=<value>\n")])])]),a("p",[t._v("Sunstone will fetch the template and generate the final version combined with your supplied values.")]),t._v(" "),a("h2",{attrs:{id:"easy-as-1-2-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#easy-as-1-2-3","aria-hidden":"true"}},[t._v("#")]),t._v(" Easy as 1, 2, 3")]),t._v(" "),a("p",[t._v("Modify your deployment manifest with variables that you want to modify:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" apps/v1\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("     \n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("containers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("                    \n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" keelhq/push"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("workflow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" .version "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(' latestRegistrySemver "keelhq/push'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("workflow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('example" '),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("imagePullPolicy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Always\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" pushwf\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("containerPort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" .port "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" default 8500 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("livenessProbe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("httpGet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("port")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" .port "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" default 8500 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("initialDelaySeconds")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("timeoutSeconds")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5    ")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("This file is available here: "),a("a",{attrs:{href:"https://github.com/sunstone-dev/example/blob/master/deployment.yaml",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/sunstone-dev/example/blob/master/deployment.yaml"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("Now, check "),a("a",{attrs:{href:"https://sunstone.dev/raw.githubusercontent.com/sunstone-dev/example/master/deployment.yaml",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://sunstone.dev/raw.githubusercontent.com/sunstone-dev/example/master/deployment.yaml"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Generated file will look like:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" apps/v1\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("     \n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("containers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("                    \n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" keelhq/push"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("workflow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("0.11.0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("alpha\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("imagePullPolicy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Always\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" pushwf\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("containerPort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8500")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("livenessProbe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("httpGet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("port")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8500")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("initialDelaySeconds")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("timeoutSeconds")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5    ")]),t._v("\n")])])]),a("p",[t._v("Image tags were retrieved from DockerHub: "),a("a",{attrs:{href:"https://hub.docker.com/r/keelhq/push-workflow-example/tags",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://hub.docker.com/r/keelhq/push-workflow-example/tags"),a("OutboundLink")],1),t._v(". You can also override any variables when you retrieve the file:")]),t._v(" "),a("p",[t._v("To override version:")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://sunstone.dev/raw.githubusercontent.com/sunstone-dev/example/master/deployment.yaml?version=2.5.0",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://sunstone.dev/raw.githubusercontent.com/sunstone-dev/example/master/deployment.yaml?version=2.5.0"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("To override port:")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://sunstone.dev/raw.githubusercontent.com/sunstone-dev/example/master/deployment.yaml?port=5555",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://sunstone.dev/raw.githubusercontent.com/sunstone-dev/example/master/deployment.yaml?port=5555"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("Deploy to Kubernetes latest semver tag:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("kubectl apply -f https://sunstone.dev/raw.githubusercontent.com/sunstone-dev/example/master/deployment.yaml\n")])])])])},[],!1,null,null,null);e.default=n.exports}}]);